{% extends "base.html" %}
{% load static %}

{% block title %}{{ book.title }} - Detalle{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row align-items-start">
        <!-- Imagen genÃ©rica -->
        <div class="col-md-4 text-center" data-aos="fade-right">
            <img src="{% static 'img/default_cover.jpg' %}" alt="Portada genÃ©rica" 
                 class="img-fluid rounded shadow" 
                 style="max-height: 450px; object-fit: cover;">
        </div>

        <!-- Info del libro -->
        <div class="col-md-8" data-aos="fade-left">
            <h2 class="fw-bold">{{ book.title }}</h2>
            <p class="text-muted mb-1"><strong>Autor(es):</strong> {{ book.authors }}</p>
            <p class="text-muted mb-1"><strong>GÃ©nero:</strong> {{ book.genre }}</p>
            <p class="text-muted mb-1"><strong>AÃ±o:</strong> {{ book.publication_year }}</p>
            <p class="text-muted mb-4"><strong>Idioma:</strong> {{ book.language_code|default:"No especificado" }}</p>

            <h4 class="text-success fw-bold mb-4">${{ book.price }}</h4>

            <p class="lead">{{ book.description|default:"No hay descripciÃ³n disponible." }}</p>

            <div class="d-flex gap-3 mt-4">
                <form action="{% url 'add_to_cart' book.id %}" method="post">
                    {% csrf_token %}
                    <button class="btn btn-outline-primary btn-lg px-4">
                        ðŸ›’ Agregar al carrito
                    </button>
                </form>

                <form action="{% url 'buy_now' book.id %}" method="post">
                    {% csrf_token %}
                    <button class="btn btn-success btn-lg px-4">
                        ðŸ’³ Comprar ahora
                    </button>
                </form>
            </div>
        </div>
    </div>

    <hr class="my-5">
    <h3 class="fw-bold text-center mb-4">Libros relacionados</h3>
    <p class="text-center text-muted">(PrÃ³ximamente recomendaciones personalizadas)</p>
</div>
{% endblock %}
